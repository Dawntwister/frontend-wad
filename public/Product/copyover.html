<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cart</title>
    <style>
        /* Body styles */
        body {
            font-family: Arial, sans-serif;
            background-color: #ffffff;
            margin: 0;
            padding: 0;
            text-align: center;
        }

        /* Container styles */
        #cart-container {
            width: 80%;
            max-width: 800px;
            margin: 0 auto;
            background-color: #fff;
            padding: 20px;
            border-radius: 5px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }

        /* Table styles */
        table {
            border-collapse: collapse;
            width: 100%;
        }

        table, th, td {
            border: 1px solid #ccc;
        }

        table th {
            background-color: #41804F;
        }

        /* Table header and data styles */
        th, td {
            padding: 10px;
        }

        /* Image styles */
        img {
            max-width: 80px;
            max-height: 80px;
        }

        /* Grand total container styles */
        #grand-total-container {
            margin-top: 20px;
            padding: 10px;
            background-color: #41804F;
            border-radius: 5px;
        }

        /* Cart title styles */
        h1 {
            font-size: 24px;
            margin-bottom: 20px;
        }

        /* Total styles */
        .total {
            font-weight: bold;
        }
    </style>

</head>
<body>
    <table>
        <thead>
            <tr>
                <th>Image</th>
                <th>Product Name</th>
                <th>Quantity</th>
                <th>Total Price</th>
            </tr>
        </thead>
        <tbody id="cart-items">
            <!-- Cart items will be displayed here -->
        </tbody>
    </table>
    <div id="grand-total-container">
        <div id="total-carbon-footprint">
            <!-- Total carbon footprint will be displayed here -->
        </div>
        <div id="total-waste">
            <!-- Total waste will be displayed here -->
        </div>
        <div id="total-water">
            <!-- Total water will be displayed here -->
        </div>
    </div>
    <script>
        const cartItems = document.getElementById('cart-items');
        const totalCarbonFootprint = document.getElementById('total-carbon-footprint');
        const totalWaste = document.getElementById('total-waste');
        const totalWater = document.getElementById('total-water');
        const cart = JSON.parse(localStorage.getItem('cart'));

        let grandTotalCarbonFootprint = 0;
        let grandTotalWaste = 0;
        let grandTotalWater = 0;

        if (cart) {
            cart.forEach((item) => {
                const row = document.createElement('tr');
                
                const itemImage = document.createElement('img');
                itemImage.src = item.image;
                const imageCell = document.createElement('td');
                imageCell.appendChild(itemImage);

                const itemName = document.createElement('td');
                itemName.textContent = item.name;

                const itemQuantity = document.createElement('td');
                itemQuantity.textContent = item.quantity;

                const totalPrice = item.price * item.quantity;
                const itemTotalPrice = document.createElement('td');
                itemTotalPrice.textContent = `$${totalPrice.toFixed(2)}`;

                const totalCarbonFootprintPerItem = item['Carbon Footprint'] * item.quantity;
                const itemCarbonFootprint = document.createElement('td');
                itemCarbonFootprint.textContent = `${totalCarbonFootprintPerItem} kg CO₂`;

                grandTotalCarbonFootprint += totalCarbonFootprintPerItem;

                // You can add similar code to calculate and display waste and water per item
                const totalWastePerItem = item['Waste'] * item.quantity;
                const itemWaste = document.createElement('td');
                itemWaste.textContent = `${totalWastePerItem} kg`;

                grandTotalWaste += totalWastePerItem;

                const totalWaterPerItem = item['Water'] * item.quantity;
                const itemWater = document.createElement('td');
                itemWater.textContent = `${totalWaterPerItem} liters`;

                grandTotalWater += totalWaterPerItem;

                row.appendChild(imageCell);
                row.appendChild(itemName);
                row.appendChild(itemQuantity);
                row.appendChild(itemTotalPrice);

                cartItems.appendChild(row);
            });
        }

        const grandTotalContainer = document.getElementById('grand-total-container');

        const totalCarbonFootprintCell = document.createElement('div');
        totalCarbonFootprintCell.textContent = `Grand Total Carbon Footprint: ${grandTotalCarbonFootprint} kg CO₂`;
        totalCarbonFootprint.appendChild(totalCarbonFootprintCell);
        grandTotalContainer.appendChild(totalCarbonFootprintCell);

        const totalWasteCell = document.createElement('div');
        totalWasteCell.textContent = `Grand Total Waste: ${grandTotalWaste} kg`;
        totalWaste.appendChild(totalWasteCell);
        grandTotalContainer.appendChild(totalWasteCell);

        const totalWaterCell = document.createElement('div');
        totalWaterCell.textContent = `Grand Total Water: ${grandTotalWater} liters`;
        totalWater.appendChild(totalWaterCell);
        grandTotalContainer.appendChild(totalWaterCell);
    </script>
</body>
</html>
